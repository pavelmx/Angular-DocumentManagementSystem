<div class="container mt-5" *ngIf="isLogin; else notLogin">
  <h1 @fadeNameTable class="display-4 ">Add new <strong>Cooperation contract</strong></h1>

  <hr>

  <br>
  <form @fadeFilter (ngSubmit)="f.form.valid && addDoc()" #f="ngForm" novalidate>
    <div class="row">
      <div class="col-3">
        <label for="id">Id</label>
        <input type="text" class="form-control" placeholder="auto complete" name="id" [(ngModel)]="form.id"
          #id="ngModel" disabled />
      </div>
      <div class="col">
        <div class="form-group">
          <label for="title">Title</label>
          <a data-toggle="collapse" href="#collapseTitle" role="button" aria-expanded="false"
            aria-controls="collapseExample">
            *</a>
          <div class="collapse" id="collapseTitle">
            <small class="form-text alert alert-info">
              Be careful, the title is set <strong>1 time</strong> and after successful creation of the document it
              <strong>can't be changed</strong>
            </small>
          </div>
          <input type="text" class="form-control" name="title" [(ngModel)]="form.title" #title="ngModel" required
            minlength="10" maxlength="100" 
            [ngClass]="{'is-valid':title.valid && title.touched,'is-invalid':title.invalid && title.touched}" />
          <div *ngIf="f.submitted && title.invalid || title.touched && title.invalid">
            <small class="form-text alert alert-warning" *ngIf="title.errors.required">Title is required</small>
            <small class="form-text alert alert-warning" *ngIf="title.errors.minlength">Title must be at least 10
              characters</small>
          </div>
        </div>
      </div>

    </div>

    <div class="row">
      <div class="col-4">
        <div class="form-group">
          <label for="clientFullName">Client full name</label>
          <input type="text" class="form-control" name="clientFullName" [(ngModel)]="form.clientFullName"
            #clientFullName="ngModel" required maxlength="100"
            [ngClass]="{'is-valid':clientFullName.valid && clientFullName.touched,'is-invalid':clientFullName.invalid && clientFullName.touched}" />
          <div *ngIf="f.submitted && clientFullName.invalid || clientFullName.touched && clientFullName.invalid">
            <small class="form-text alert alert-warning" *ngIf="clientFullName.errors.required">Client full name is
              required</small>
          </div>
        </div>
      </div>
      <div class="col">
        <div class="form-group">
          <label for="clientAdress">Client adress</label>
          <input type="text" class="form-control" name="clientAdress" [(ngModel)]="form.clientAdress"
            #clientAdress="ngModel" required maxlength="255"
            [ngClass]="{'is-valid':clientAdress.valid && clientAdress.touched,'is-invalid':clientAdress.invalid && clientAdress.touched}" />
          <div *ngIf="f.submitted && clientAdress.invalid || clientAdress.touched && clientAdress.invalid">
            <small class="form-text alert alert-warning" *ngIf="clientAdress.errors.required">Client adress is
              required</small>
          </div>
        </div>
      </div>
    </div>

    <!-- gggggggggggggggggggggg -->

    <div class="row">
      <div class="col-8">
        <div class="form-group">
          <label for="kindOfActivity">Kind of activity</label>
          <input type="text" class="form-control" name="kindOfActivity" [(ngModel)]="form.kindOfActivity"
            #kindOfActivity="ngModel" required maxlength="100"
            [ngClass]="{'is-valid':kindOfActivity.valid && kindOfActivity.touched,'is-invalid':kindOfActivity.invalid && kindOfActivity.touched}" />
          <div *ngIf="f.submitted && kindOfActivity.invalid || kindOfActivity.touched && kindOfActivity.invalid">
            <small class="form-text alert alert-warning" *ngIf="kindOfActivity.errors.required">Kind of activity is
              required</small>
          </div>
        </div>
      </div>
      <div class="col">
        <div class="form-group">
          <label for="term">Term</label>
          <div class="input-group">
            <input type="number" class="form-control" name="term" [(ngModel)]="form.term" #term="ngModel" required
              [ngClass]="{'is-valid':term.valid && term.touched,'is-invalid':term.invalid && term.touched}" />
            <div class="input-group-append">
              <span class="input-group-text" id="basic-addon2">days</span>
            </div>
          </div>
          <div *ngIf="f.submitted && term.invalid || term.touched && term.invalid">
            <small class="form-text alert alert-warning" *ngIf="term.errors.required">Term is
              required</small>
          </div>
        </div>
      </div>
    </div>
    <div class="row ">
      <div class="col">
        <div class="form-group">
          <label for="clientResponsibility">Client responsibility</label>
          <textarea required maxlength="1000" class="form-control" name="clientResponsibility" rows="2"
            [(ngModel)]="form.clientResponsibility" #clientResponsibility="ngModel"
            [ngClass]="{'is-valid':clientResponsibility.valid && clientResponsibility.touched,'is-invalid':clientResponsibility.invalid && clientResponsibility.touched}"></textarea>
          <div
            *ngIf="f.submitted && clientResponsibility.invalid || clientResponsibility.touched && clientResponsibility.invalid">
            <small class="form-text alert alert-warning" *ngIf="clientResponsibility.errors.required">Client responsibility is
              required</small>
          </div>
        </div>
      </div>

      <div class="col">
        <div class="form-group">
          <label for="creatorResponsibility">Creator responsibility</label>
          <textarea required maxlength="1000" class="form-control" name="creatorResponsibility" rows="2"
            [(ngModel)]="form.creatorResponsibility" #creatorResponsibility="ngModel"
            [ngClass]="{'is-valid':creatorResponsibility.valid && creatorResponsibility.touched,'is-invalid':creatorResponsibility.invalid && creatorResponsibility.touched}"></textarea>
          <div
            *ngIf="f.submitted && creatorResponsibility.invalid || creatorResponsibility.touched && creatorResponsibility.invalid">
            <small class="form-text alert alert-warning" *ngIf="creatorResponsibility.errors.required">Creator responsibility is
              required</small>
          </div>
        </div>
      </div>
    </div>
    <div class="row ">
      <div class="col">
        <div class="form-group">
          <label for="terminationConditions">Termination conditions</label>
          <textarea required maxlength="1000" class="form-control" name="terminationConditions" rows="2"
            [(ngModel)]="form.terminationConditions" #terminationConditions="ngModel"
            [ngClass]="{'is-valid':terminationConditions.valid && terminationConditions.touched,'is-invalid':terminationConditions.invalid && terminationConditions.touched}"></textarea>
          <div
            *ngIf="f.submitted && terminationConditions.invalid || terminationConditions.touched && terminationConditions.invalid">
            <small class="form-text alert alert-warning" *ngIf="terminationConditions.errors.required">Termination conditions is
              required</small>
          </div>
        </div>
      </div>
    </div>

    <!-- gggggggggggggggggggggg -->

    <div class="row ">
      <div class="col">
        <div class="form-group">
          <label for="otherInfo">Other info</label>
          <textarea maxlength="1000" class="form-control" name="otherInfo" rows="3" [(ngModel)]="form.otherInfo"
            #otherInfo="ngModel"></textarea>
        </div>
      </div>
    </div>

    <div class="form-group">
      <hr>
      <button [disabled]="f.form.invalid" class="btn btn-success">Add new contract</button>
      
    </div>
  </form>
</div>

<ng-template #notLogin>
  <div class="alert alert-danger" role="alert">
    <h2 class="alert-heading">Oops...</h2>
    <hr>
    <h5 class="mb-0">Unauthorized users are denied access. Please <a routerLink="/" class="alert-link">login</a>!
    </h5>
  </div>
</ng-template>